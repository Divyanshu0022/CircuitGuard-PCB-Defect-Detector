# CircuitGuard: PCB Defect Detection & Classification System

**CircuitGuard** is an automated computer vision system designed to detect and classify defects in Printed Circuit Boards (PCBs). The system utilizes reference-based image subtraction to localize defects and will eventually employ Deep Learning (EfficientNet) to classify them.
> **üéì Academic Context:** > This project was developed as a key deliverable for the **Infosys Springboard Internship**. It represents the practical application of Computer Vision and AI concepts taught during the **8-week internship program**.
## üöÄ Project Status
Current Focus: **Phase 1 - Image Processing & ROI Extraction**

| Milestone | Module | Task Description | Status |
| :--- | :--- | :--- | :--- |
| **Milestone 1** | **Module 1** | **Dataset Setup & Image Subtraction** <br> (Image alignment, Grayscale conversion, Otsu's Thresholding) | ‚úÖ **Done** |
| | **Module 2** | **Contour Detection & ROI Extraction** <br> (Finding defects, Bounding Boxes, Cropping samples) | ‚úÖ **Done** |
| **Milestone 2** | Module 3 | Model Training (EfficientNet with PyTorch) | ‚è≥ *Pending* |
| | Module 4 | Prediction Pipeline & Validation | ‚è≥ *Pending* |
| **Milestone 3** | Module 5 | Frontend Web UI (Streamlit/HTML) | ‚è≥ *Pending* |
| | Module 6 | Backend Integration | ‚è≥ *Pending* |

---

## üìÇ Project Structure & Setup
This project is designed to run on **Google Colab** using **Google Drive** for storage.

### **1. The Dataset**
The project uses the **DeepPCB Dataset**.
* **Source:** [DeepPCB GitHub / Dropbox Link]
* **Categories:** Open, Short, Mousebite, Spur, Pin Hole, Spurious Copper.

### **2. Environment Setup (Important)**
Because the dataset includes high-resolution image pairs, I have configured the notebook to read directly from Google Drive to ensure persistence.

**To run this code, follow these steps:**
1.  Download the `PCB_DATASET.zip`.
2.  Upload the zip file to your Google Drive in this specific path:
    ```text
    /My Drive/DeepPCB_Project/PCB_DATASET.zip
    ```
3.  Open the `CircuitGuard_Phase1.ipynb` file in Google Colab.
4.  Run the first cell to mount your Drive. The script will automatically unzip the data into the Colab runtime environment.

---

## üõ†Ô∏è How It Works (Modules 1 & 2)
<img width="898" height="735" alt="image" src="https://github.com/user-attachments/assets/c681b220-53e9-47cf-9a5d-34156147b61d" />


### **Module 1: Image Subtraction**
We use reference-based inspection. The system takes a **Test Image** (defective) and aligns it with a **Template Image** (defect-free).
* `cv2.absdiff`: Computes the absolute difference between the two images.
* `cv2.threshold` (Otsu): Converts the difference map into a binary mask (White = Defect, Black = Background).
* **Morphological Ops:** Noise removal to clean up the mask.

### **Module 2: Defect Localization**
Once the mask is generated:
* **Contour Detection:** Finds the exact shapes of the white blobs on the mask.
* **Bounding Boxes:** Calculates the `(x, y, w, h)` coordinates for every defect.
* **ROI Cropping:** Crops the specific defect area from the original image and saves it for the classification model (Phase 2).

---

## üì∏ Output Examples
The notebook generates an annotated image highlighting the defects in **Red Boxes** and saves individual crops of the defects to `Module2_Results/` in Google Drive.

---

## üß∞ Tech Stack
* **Language:** Python 3.x
* **Image Processing:** OpenCV (`cv2`), NumPy
* **Visualization:** Matplotlib
* **Environment:** Google Colab

---

## üë®‚Äçüíª Future Work
The next steps involve setting up **PyTorch** to train an **EfficientNet-B4** model on the cropped defect images generated by Module 2.
